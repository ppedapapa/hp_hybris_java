<div class="row bundle">
    <div class="col-12">
        <h1 class="section-title" [innerHTML]="'results.now-choose-bundles'|translate"></h1>
    </div>
    <div class="col-12 bundle-container">
        <ngb-tabset>
            <ngb-tab *ngFor="let tier of bundles;">
                <ng-template ngbTabTitle>
                    <div class="tab-title">{{'results.'+tier.bundle|translate}}</div>
                    <div class="less-text" *ngIf="!isMobile">{{'results.less-than'|translate}} <span *ngIf="!isCanFr">$</span>{{tier.perDayPrice}}<span *ngIf="isCanFr"> $</span>{{'results.a-day'|translate}}</div>
                </ng-template>
                <ng-template ngbTabContent>
                    <div [ngClass]="tier.bundle">
                        <div class="row d-flex justify-content-end">
                            <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 promo-btn">
                                <div class="less-text">{{'results.less-than'|translate}} <span *ngIf="!isCanFr">$</span>{{tier.perDayPrice}}<span *ngIf="isCanFr"> $</span> {{'results.a-day'|translate}}</div>
                                <button (click)="addBundleToCart(basicBundle, $event, 'basic');" type="button" class="btn add-btn continue-btn">{{'results.add-all-cart'|translate}}</button>
                            </div>
                        </div>
                        <div class="row product-recommendation {{sku.category}}" *ngFor="let sku of filterNoMembership(tier['skus'])">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 sku-category">
                                <span *ngIf="sku.goal">
                                    <b *ngIf="sku.goal.length == 1" [innerHTML]="'tags.your-goal'|translate"></b>
                                    <b *ngIf="sku.goal.length > 1" [innerHTML]="'tags.your-goals-are'|translate"></b>
                                    <span *ngFor="let goal of sku.goal">
                                        <b [innerHTML]="'label.health-goals-'+goal|translate"></b>
                                        <b *ngIf="goal !== 'weight'">*</b><b *ngIf="sku.goal.length > 1 && !$last">, </b>
                                    </span>
                                </span>
                                <span *ngIf="!sku.goal">
                                    <b *ngIf="sku.category != 'personalized_nutrition'">{{'tags.your-interest-in'|translate}}</b>
                                    <b>{{'tags.'+sku.category|translate}}</b>
                                </span>
                                <b>&nbsp;--&nbsp;{{'results.recommend'|translate}}&nbsp;:</b>
                            </div>

                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 image">
                                <img [src]="sku.info.itemImage" class="img-fluid"/>
                                <div *ngIf="!isMobile" restrictions="sku.info.restrictions"></div>
                            </div>

                            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 description">
                                <b>{{sku.info.title}}</b>
                                <p class="short-desc aem-desc">{{sku.info.healthPrintDescription}}</p>
                                <a *ngIf="!isMobile" (click)="openLearnMoreModal(sku, 'Basic');" class="learn-more">{{'results.more-info'|translate}}</a>
                                <div *ngIf="isMobile" restrictions="sku.info.restrictions"></div>
                            </div>

                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 buttons">
                                <p class="price">{{sku.info.price| formatPrice}}</p>
                                <!--<a *ngIf="(!hideAddToItem) && (sku.sn_price != 0)" (click)="addToCart(sku, $event, 'Basic');" class="add-item">{{'results.add-item'|translate}}</a>-->
                                <app-hp-add-cart [sku]="sku"></app-hp-add-cart>
                                <a *ngIf="isMobile" (click)="openLearnMoreModal(sku, 'Basic');" class="learn-more">{{'results.more-info'|translate}}</a>
                            </div>
                        </div>
                        <div class="row product-recommendation {{sku.category}}" *ngFor="let sku of filterMembership(tier['skus'])">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 sku-category">
                                <span *ngIf="sku.goal">
                                    <b *ngIf="sku.goal.length == 1" [innerHTML]="'tags.your-goal'|translate"></b>
                                    <b *ngIf="sku.goal.length > 1" [innerHTML]="'tags.your-goals-are'|translate"></b>
                                    <span *ngFor="let goal of sku.goal">
                                        <b [innerHTML]="'label.health-goals-'+goal|translate"></b>
                                        <b *ngIf="goal !== 'weight'">*</b><b *ngIf="sku.goal.length > 1 && !$last">, </b>
                                    </span>
                                </span>
                                <span *ngIf="!sku.goal">
                                    <b *ngIf="sku.category != 'personalized_nutrition'">{{'tags.your-interest-in'|translate}}</b>
                                    <b>{{'tags.'+sku.category|translate}}</b>
                                </span>
                                <b>&nbsp;--&nbsp;{{'results.recommend'|translate}}&nbsp;:</b>
                            </div>

                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 image">
                                <img [src]="sku.info.itemImage" class="img-fluid"/>
                                <div *ngIf="!isMobile" restrictions="sku.info.restrictions"></div>
                            </div>

                            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 description">
                                <b>{{sku.info.title}}</b>
                                <p class="short-desc aem-desc">{{sku.info.healthPrintDescription}}</p>
                                <a *ngIf="!isMobile" (click)="openLearnMoreModal(sku, 'Basic');" class="learn-more">{{'results.more-info'|translate}}</a>
                                <div *ngIf="isMobile" restrictions="sku.info.restrictions"></div>
                            </div>

                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 buttons">
                                <p class="price">{{sku.info.price| formatPrice}}</p>
                                <!--<a *ngIf="(!hideAddToItem) && (sku.sn_price != 0)" (click)="addToCart(sku, $event, 'Basic');" class="add-item">{{'results.add-item'|translate}}</a>-->
                                <app-hp-add-cart [sku]="sku"></app-hp-add-cart>
                                <a *ngIf="isMobile" (click)="openLearnMoreModal(sku, 'Basic');" class="learn-more">{{'results.more-info'|translate}}</a>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ngb-tab>
        </ngb-tabset>
    </div>
</div>